{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vopro\\\\RiderProjects\\\\Machine\\\\Machine\\\\ClientApp\\\\src\\\\components\\\\Home.tsx\";\nimport * as React from 'react';\nimport { Component } from 'react';\nimport { Mapper } from \"../Mapper/Mapper\";\nimport { ProductCategory } from \"../Enum/ProductCategory\";\nimport { CoinCategory } from \"../Enum/CoinCategory\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openProductModal = () => {\n      this.setState({\n        isShowModal: true\n      });\n    };\n\n    this.openCoinModal = () => {\n      this.setState({\n        isShowModal: true,\n        operation: {\n          id: 0,\n          createdDate: new Date(),\n          typeOperation: TypeOperation.income,\n          categoryTypeOperation: CategoryTypeOperation.car,\n          operationSum: 0,\n          description: \"\"\n        }\n      });\n    };\n\n    this.closeProductModal = () => {\n      this.setState({\n        isShowModal: false\n      });\n    };\n\n    this.closeCoinModal = () => {\n      this.setState({\n        isShowModal: false\n      });\n    };\n\n    this.state = {\n      products: [],\n      product: {\n        id: 0,\n        name: \"\",\n        countProduct: 0,\n        price: 0,\n        description: \"\",\n        category: ProductCategory.food,\n        isRemoved: false\n      },\n      coins: [],\n      coin: {\n        id: 0,\n        coinCategory: CoinCategory.one,\n        maxCoinCount: 0,\n        nowCoinCount: 0\n      },\n      orders: [],\n      ids: [],\n      showModalProduct: false,\n      showModalCoin: false\n    };\n  }\n\n  async getProducts() {\n    const response = await fetch('getproducts');\n    const request = await response.json();\n    const products = Mapper.mapToProductViews(request);\n    this.setState({\n      products: products\n    });\n  }\n\n  async getProductsRemoved() {\n    const response = await fetch('getproductsremoved');\n    const request = await response.json();\n    const products = Mapper.mapToProductViews(request);\n    this.setState({\n      products: products\n    });\n  }\n\n  async getProductsNotRemoved() {\n    const response = await fetch('getproductsnotremoved');\n    const request = await response.json();\n    const products = Mapper.mapToProductViews(request);\n    this.setState({\n      products: products\n    });\n  }\n\n  async getProductByCategory(category) {\n    const response = await fetch('getproductscategory?category=' + category.toString());\n    const request = await response.json();\n    const products = Mapper.mapToProductViews(request);\n    this.setState({\n      products: products\n    });\n  }\n\n  async getCoins() {\n    const response = await fetch('getcoins');\n    const request = await response.json();\n    const coins = Mapper.mapToCoinViews(request);\n    this.setState({\n      coins: coins\n    });\n  }\n\n  async getOrderHistory() {\n    const response = await fetch('getorderhistory');\n    const request = await response.json();\n    const orders = Mapper.mapToOrderViews(request);\n    this.setState({\n      orders: orders\n    });\n  }\n\n  async removeProduct(productId) {\n    await fetch('removeproduct', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(productId)\n    });\n    await this.getProducts();\n  }\n\n  async removeProducts(productIds) {\n    if (this.state.ids.length == 0) return alert(\"Вы не выбрали ни одной операции\");\n    await fetch('updatecoinnow', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(productIds)\n    });\n    await this.getProducts();\n  }\n\n  updateIds(e) {\n    const checked = e.target.checked;\n    const id = Number(e.target.value);\n\n    if (!this.state.ids.includes(id) && checked) {\n      this.state.ids.push(id);\n    }\n\n    if (this.state.ids.includes(id) && !checked) {\n      let index = this.state.ids.indexOf(id);\n      this.state.ids.splice(index, 1);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        \"aria-labelledby\": \"tabelLabel\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430 \\u0432 \\u043C\\u0430\\u0448\\u0438\\u043D\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041C\\u043E\\u043D\\u0435\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        \"aria-labelledby\": \"tabelLabel\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0426\\u0435\\u043D\\u043D\\u043E\\u0441\\u0442\\u044C \\u043C\\u043E\\u043D\\u0435\\u0442\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043C\\u043E\\u043D\\u0435\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043C\\u043E\\u043D\\u0435\\u0442 \\u043D\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u043C\\u043E\\u043C\\u0435\\u043D\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u043F\\u043E\\u043A\\u0443\\u043F\\u043E\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        \"aria-labelledby\": \"tabelLabel\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u043A\\u0443\\u043F\\u043A\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0443\\u043F\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0442\\u043E\\u0432\\u0430\\u0440/\\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442/\\u043D\\u0430\\u043F\\u0438\\u0442\\u043E\\u043A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/vopro/RiderProjects/Machine/Machine/ClientApp/src/components/Home.tsx"],"names":["React","Component","Mapper","ProductCategory","CoinCategory","Home","constructor","props","openProductModal","setState","isShowModal","openCoinModal","operation","id","createdDate","Date","typeOperation","TypeOperation","income","categoryTypeOperation","CategoryTypeOperation","car","operationSum","description","closeProductModal","closeCoinModal","state","products","product","name","countProduct","price","category","food","isRemoved","coins","coin","coinCategory","one","maxCoinCount","nowCoinCount","orders","ids","showModalProduct","showModalCoin","getProducts","response","fetch","request","json","mapToProductViews","getProductsRemoved","getProductsNotRemoved","getProductByCategory","toString","getCoins","mapToCoinViews","getOrderHistory","mapToOrderViews","removeProduct","productId","method","headers","body","JSON","stringify","removeProducts","productIds","length","alert","updateIds","e","checked","target","Number","value","includes","push","index","indexOf","splice","render"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport {ChangeEvent, Component} from 'react';\r\nimport {Mapper} from \"../Mapper/Mapper\";\r\nimport {ProductCategory} from \"../Enum/ProductCategory\";\r\nimport {ProductView} from \"../ViewModel/productView\";\r\nimport {CoinView} from \"../ViewModel/coinView\";\r\nimport {OrderView} from \"../ViewModel/orderView\";\r\nimport {CoinCategory} from \"../Enum/CoinCategory\";\r\n\r\ntype Props = {}\r\n\r\ntype State = {\r\n\tproducts: ProductView[];\r\n\tproduct: ProductView;\r\n\tcoins: CoinView[];\r\n\tcoin: CoinView;\r\n\torders: OrderView[];\r\n\tids: number[];\r\n\tshowModalProduct: boolean;\r\n\tshowModalCoin: boolean;\r\n}\r\n\r\nexport class Home extends Component<Props, State> {\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tproducts: [],\r\n\t\t\tproduct: {\r\n\t\t\t\tid: 0,\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tcountProduct: 0,\r\n\t\t\t\tprice: 0,\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\tcategory: ProductCategory.food,\r\n\t\t\t\tisRemoved: false\r\n\t\t\t}, \r\n\t\t\tcoins:[],\r\n\t\t\tcoin: {\r\n\t\t\t\tid: 0,\r\n\t\t\t\tcoinCategory: CoinCategory.one,\r\n\t\t\t\tmaxCoinCount: 0,\r\n\t\t\t\tnowCoinCount: 0\r\n\t\t\t}, \r\n\t\t\torders:[],\r\n\t\t\tids: [],\r\n\t\t\tshowModalProduct: false,\r\n\t\t\tshowModalCoin: false\r\n\t\t}\r\n\t}\r\n\r\n\tasync getProducts(){\r\n\t\tconst response = await fetch('getproducts');\r\n\t\tconst request = await response.json();\r\n\t\tconst products = Mapper.mapToProductViews(request)\r\n\t\tthis.setState({products: products})\r\n\t}\r\n\r\n\tasync getProductsRemoved(){\r\n\t\tconst response = await fetch('getproductsremoved');\r\n\t\tconst request = await response.json();\r\n\t\tconst products = Mapper.mapToProductViews(request)\r\n\t\tthis.setState({products: products})\r\n\t}\r\n\r\n\tasync getProductsNotRemoved(){\r\n\t\tconst response = await fetch('getproductsnotremoved');\r\n\t\tconst request = await response.json();\r\n\t\tconst products = Mapper.mapToProductViews(request)\r\n\t\tthis.setState({products: products})\r\n\t}\r\n\r\n\tasync getProductByCategory(category: ProductCategory){\r\n\t\tconst response = await fetch('getproductscategory?category='+ category.toString());\r\n\t\tconst request = await response.json();\r\n\t\tconst products = Mapper.mapToProductViews(request)\r\n\t\tthis.setState({products: products})\r\n\t}\r\n\r\n\tasync getCoins(){\r\n\t\tconst response = await fetch('getcoins');\r\n\t\tconst request = await response.json();\r\n\t\tconst coins = Mapper.mapToCoinViews(request)\r\n\t\tthis.setState({coins: coins})\r\n\t}\r\n\r\n\tasync getOrderHistory(){\r\n\t\tconst response = await fetch('getorderhistory');\r\n\t\tconst request = await response.json();\r\n\t\tconst orders = Mapper.mapToOrderViews(request)\r\n\t\tthis.setState({orders: orders})\r\n\t}\r\n\r\n\tasync removeProduct(productId: number){\r\n\t\tawait fetch('removeproduct', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(productId)\r\n\t\t});\r\n\t\tawait this.getProducts();\r\n\t}\r\n\r\n\tasync removeProducts(productIds: number[]){\r\n\t\tif(this.state.ids.length == 0) return alert(\"Вы не выбрали ни одной операции\");\r\n\t\tawait fetch('updatecoinnow', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(productIds)\r\n\t\t});\r\n\t\tawait this.getProducts();\r\n\t}\r\n\r\n\tupdateIds(e:ChangeEvent<HTMLInputElement>) {\r\n\t\tconst checked = e.target.checked;\r\n\t\tconst id = Number(e.target.value);\r\n\t\tif(!this.state.ids.includes(id) && checked){\r\n\t\t\tthis.state.ids.push(id);\r\n\t\t}\r\n\t\tif(this.state.ids.includes(id) && !checked){\r\n\t\t\tlet index = this.state.ids.indexOf(id);\r\n\t\t\tthis.state.ids.splice(index, 1)\r\n\t\t}\r\n\t}\r\n\r\n\topenProductModal = () =>{\r\n\t\tthis.setState({  isShowModal: true});\r\n\t}\r\n\topenCoinModal = () =>{\r\n\t\tthis.setState({  isShowModal: true, operation:{id: 0, createdDate: new Date(), typeOperation: TypeOperation.income, categoryTypeOperation: CategoryTypeOperation.car, operationSum: 0, description: \"\"}});\r\n\t}\r\n\r\n\tcloseProductModal = () =>{\r\n\t\tthis.setState({  isShowModal: false});\r\n\t}\r\n\r\n\tcloseCoinModal = () =>{\r\n\t\tthis.setState({  isShowModal: false});\r\n\t}\r\n\t\r\n  render () {\r\n    return (\r\n      <div>\r\n          <h1>Панель администратора</h1>\r\n\t\t  <br/>\r\n\t\t  <h2>Продукты</h2>\r\n\t\t  <table className='table table-striped' aria-labelledby=\"tabelLabel\">\r\n\t\t\t  <thead>\r\n\t\t\t  <tr>\r\n\t\t\t\t  <th>Наименование продукта</th>\r\n\t\t\t\t  <th>Количество продукта в машине</th>\r\n\t\t\t\t  <th>Стоимость продукта</th>\r\n\t\t\t\t  <th>Описание</th>\r\n\t\t\t\t  <th>Категория продукта</th>\r\n\t\t\t\t  <th><button className=\"btn btn-danger\">Удалить</button></th>\r\n\t\t\t\t  <th><button className=\"btn btn-success\">Добавить новый продукт</button></th>\r\n\t\t\t\t  <th></th>\r\n\t\t\t  </tr>\r\n\t\t\t  </thead>\r\n\t\t\t  <tbody> \r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td><button className=\"btn btn-danger\">Удалить</button></td>\r\n\t\t\t\t  </tr>\r\n\t\t\t  </tbody>\r\n\t\t  </table>\r\n\t\t  <br/>\r\n\t\t  <h2>Монеты</h2>\r\n\t\t  <table className='table table-striped' aria-labelledby=\"tabelLabel\">\r\n\t\t\t  <thead>\r\n\t\t\t  <tr>\r\n\t\t\t\t  <th>Ценность монеты</th>\r\n\t\t\t\t  <th>Максимальное количество монет</th>\r\n\t\t\t\t  <th>Количество монет на данный момент</th>\r\n\t\t\t  </tr>\r\n\t\t\t  </thead>\r\n\t\t\t  <tbody>\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t  </tr>\r\n\t\t\t  </tbody>\r\n\t\t  </table>\r\n\t\t  <br/>\r\n\t\t  <h2>История покупок</h2>\r\n\t\t  <table className='table table-striped' aria-labelledby=\"tabelLabel\">\r\n\t\t\t  <thead>\r\n\t\t\t  <tr>\r\n\t\t\t\t  <th>Дата покупки</th>\r\n\t\t\t\t  <th>Купленный товар/продукт/напиток</th>\r\n\t\t\t  </tr>\r\n\t\t\t  </thead>\r\n\t\t\t  <tbody>\r\n\t\t\t\t  <tr>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t\t  <td></td>\r\n\t\t\t\t  </tr>\r\n\t\t\t  </tbody>\r\n\t\t  </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}