{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vopro\\\\RiderProjects\\\\Machine\\\\Machine\\\\ClientApp\\\\src\\\\Modal\\\\adminModalProduct.tsx\";\nimport React, { Component } from \"react\";\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from \"reactstrap\";\nimport { ProductCategory } from \"../Enum/ProductCategory\";\nimport { ProductBlank } from \"../Blank/productBlank\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class AdminModalProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      category: ProductCategory.food,\n      description: \"\",\n      price: 0,\n      countProduct: 0\n    };\n  }\n\n  async addProduct() {\n    if (this.state.countProduct <= 0 || this.state.price <= 0) {\n      return alert(\"Количество продукта и цена указаны не верно\");\n    }\n\n    const blank = new ProductBlank(0, this.state.name, this.state.countProduct, this.state.price, this.state.description, this.state.category, false);\n    await fetch('addproduct', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(blank)\n    });\n    this.props.hide();\n    this.props.getProducts();\n  }\n\n  async updateProduct() {\n    if (this.state.countProduct <= 0 || this.state.price <= 0) {\n      return alert(\"Количество продукта и цена указаны не верно\");\n    }\n\n    const blank = new ProductBlank(0, this.state.name, this.state.countProduct, this.state.price, this.state.description, this.state.category, false);\n    await fetch('updateproduct', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify(blank)\n    });\n    this.props.hide();\n    this.props.getProducts();\n  }\n\n  updateName(e) {\n    this.setState({\n      name: e.target.value.toString()\n    });\n  }\n\n  updateCount(e) {\n    this.setState({\n      price: Number(e.target.value)\n    });\n  }\n\n  updatePrice(e) {\n    this.setState({\n      countProduct: Number(e.target.value)\n    });\n  }\n\n  updateDescription(e) {\n    this.setState({\n      description: e.target.value.toString()\n    });\n  }\n\n  updateCategory(e) {\n    this.setState({\n      category: Number(e.target.value)\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        isOpen: this.props.isShown,\n        fade: false,\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: this.props.product.id != 0 ? 'Редактирование продукта ' + this.props.product.name : 'Добавление нового продукта'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                id: \"basic-addon1\",\n                children: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => this.updateName(e),\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\",\n              \"aria-label\": \"Username\",\n              \"aria-describedby\": \"basic-addon1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: e => this.updateCategory(e),\n              className: \"custom-select\",\n              id: \"inputGroupSelect02\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                selected: true,\n                children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"\\u041D\\u0430\\u043F\\u0438\\u0442\\u043A\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"\\u0415\\u0434\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"\\u0421\\u0443\\u0432\\u0435\\u043D\\u0438\\u0440\\u044B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-append\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"input-group-text\",\n                htmlFor: \"inputGroupSelect02\",\n                children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              onChange: e => this.updateDescription(e),\n              className: \"form-control\",\n              \"aria-label\": \"With textarea\",\n              children: this.props.product.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0426\\u0435\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => this.updatePrice(e),\n              type: \"number\",\n              min: 0,\n              max: 100,\n              step: 1,\n              defaultValue: this.props.product.id != 0 ? this.props.product.price : 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => this.updateCount(e),\n              type: \"number\",\n              min: 0,\n              max: 100,\n              step: 1,\n              defaultValue: this.props.product.id != 0 ? this.props.product.countProduct : 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.props.product.id != 0 ? () => this.updateProduct() : () => this.addProduct(),\n            className: this.props.product.id != 0 ? 'btn btn-success' : 'btn btn-primary',\n            children: this.props.product.id != 0 ? 'Изменить' : 'Добавить'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.props.hide(),\n            className: 'btn btn-danger',\n            children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/vopro/RiderProjects/Machine/Machine/ClientApp/src/Modal/adminModalProduct.tsx"],"names":["React","Component","Modal","ModalBody","ModalFooter","ModalHeader","ProductCategory","ProductBlank","AdminModalProduct","constructor","props","state","name","category","food","description","price","countProduct","addProduct","alert","blank","fetch","method","headers","body","JSON","stringify","hide","getProducts","updateProduct","updateName","e","setState","target","value","toString","updateCount","Number","updatePrice","updateDescription","updateCategory","render","isShown","product","id"],"mappings":"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","sourcesContent":["import React, {ChangeEvent, Component} from \"react\";\r\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from \"reactstrap\";\r\nimport {ProductView} from \"../ViewModel/productView\";\r\nimport {ProductCategory} from \"../Enum/ProductCategory\";\r\nimport {ProductBlank} from \"../Blank/productBlank\";\r\n\r\nexport interface Props{\r\n\tisShown: boolean;\r\n\thide: () => void;\r\n\tproduct: ProductView;\r\n\tgetProducts: () => void;\r\n}\r\n\r\ntype State = {\r\n\tname: string;\r\n\tcategory: ProductCategory;\r\n\tdescription: string;\r\n\tprice: number;\r\n\tcountProduct: number;\r\n}\r\n\r\nexport class AdminModalProduct extends Component<Props, State>{\r\n\tconstructor(props: Props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tname: \"\",\r\n\t\t\tcategory: ProductCategory.food,\r\n\t\t\tdescription: \"\",\r\n\t\t\tprice: 0,\r\n\t\t\tcountProduct: 0\r\n\t\t}\r\n\t}\r\n\t\r\n\tasync addProduct(){\r\n\t\tif(this.state.countProduct <= 0 || this.state.price <= 0){\r\n\t\t\treturn alert(\"Количество продукта и цена указаны не верно\")\r\n\t\t}\r\n\t\t\r\n\t\tconst blank = new ProductBlank(0, this.state.name, this.state.countProduct, this.state.price, this.state.description, this.state.category, false)\r\n\t\t\r\n\t\tawait fetch('addproduct', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(blank)\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.hide()\r\n\t\tthis.props.getProducts();\r\n\t}\r\n\t\r\n\tasync updateProduct(){\r\n\t\tif(this.state.countProduct <= 0 || this.state.price <= 0){\r\n\t\t\treturn alert(\"Количество продукта и цена указаны не верно\")\r\n\t\t}\r\n\t\t\r\n\t\tconst blank = new ProductBlank(0, this.state.name, this.state.countProduct, this.state.price, this.state.description, this.state.category, false)\r\n\t\t\r\n\t\tawait fetch('updateproduct', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json;charset=utf-8'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(blank)\r\n\t\t});\r\n\t\t\r\n\t\tthis.props.hide()\r\n\t\tthis.props.getProducts();\r\n\t}\r\n\t\r\n\tupdateName(e:ChangeEvent<HTMLInputElement>){\r\n\t\tthis.setState({name: e.target.value.toString()})\r\n\t}\r\n\t\r\n\tupdateCount(e:ChangeEvent<HTMLInputElement>){\r\n\t\tthis.setState({price: Number(e.target.value)})\r\n\t}\r\n\t\r\n\tupdatePrice(e:ChangeEvent<HTMLInputElement>){\r\n\t\tthis.setState({countProduct: Number(e.target.value)})\r\n\t}\r\n\t\r\n\tupdateDescription(e:ChangeEvent<HTMLTextAreaElement>){\r\n\t\tthis.setState({description: e.target.value.toString()})\r\n\t}\r\n\t\r\n\tupdateCategory(e:ChangeEvent<HTMLSelectElement>){\r\n\t\tthis.setState({category: Number(e.target.value)   })\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tsize=\"lg\"\r\n\t\t\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\r\n\t\t\t\t\tisOpen={this.props.isShown}\r\n\t\t\t\t\tfade={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<ModalHeader>\r\n\t\t\t\t\t\t<h1>{this.props.product.id != 0 ? 'Редактирование продукта '+ this.props.product.name : 'Добавление нового продукта'}</h1>\r\n\t\t\t\t\t</ModalHeader>\r\n\t\t\t\t\t<ModalBody>\r\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon1\">Введите наименование продукта:</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<input onChange={(e) => this.updateName(e)} type=\"text\" className=\"form-control\" placeholder=\"Наименование продукта\" aria-label=\"Username\"\r\n\t\t\t\t\t\t\t\t   aria-describedby=\"basic-addon1\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<select onChange={(e) => this.updateCategory(e)} className=\"custom-select\" id=\"inputGroupSelect02\">\r\n\t\t\t\t\t\t\t\t<option selected>Выберите категорию</option>\r\n\t\t\t\t\t\t\t\t<option value=\"0\">Напитки</option>\r\n\t\t\t\t\t\t\t\t<option value=\"1\">Еда</option>\r\n\t\t\t\t\t\t\t\t<option value=\"2\">Сувениры</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<label className=\"input-group-text\" htmlFor=\"inputGroupSelect02\">Категория продукта</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\">Описание</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<textarea onChange={(e) => this.updateDescription(e)} className=\"form-control\" aria-label=\"With textarea\">{this.props.product.description}</textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>Цена продукта: </span>\r\n\t\t\t\t\t\t\t<input onChange={(e) => this.updatePrice(e)} type=\"number\" min={0} max={100} step={1} defaultValue={this.props.product.id != 0 ? this.props.product.price : 0}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>Количество продукта: </span>\r\n\t\t\t\t\t\t\t<input onChange={(e) => this.updateCount(e)} type=\"number\" min={0} max={100} step={1} defaultValue={this.props.product.id != 0 ? this.props.product.countProduct : 0}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ModalBody>\r\n\t\t\t\t\t<ModalFooter>\r\n\t\t\t\t\t\t<button onClick={this.props.product.id != 0 ? () => this.updateProduct() : () => this.addProduct()} className={this.props.product.id != 0 ? 'btn btn-success' : 'btn btn-primary'}>{this.props.product.id != 0 ? 'Изменить' : 'Добавить'}</button>\r\n\t\t\t\t\t\t<button onClick={() => this.props.hide()} className={'btn btn-danger'}>Выйти</button>\r\n\t\t\t\t\t</ModalFooter>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}